-- 27 Jan 2017

CREATE DATABASE kdaly;

USE kdaly;

CREATE TABLE IF NOT EXISTS REGION (

REGION_ID INT(10) NOT NULL,
REGION_NAME VARCHAR(45) NOT NULL,

PRIMARY KEY (REGION_ID));

----------------------------------------

CREATE TABLE IF NOT EXISTS location(
LOCATION_ID INT(10) NOT NULL, ADDRESS VARCHAR(255) NOT NULL,
POSTAL_CODE VARCHAR(45) NULL, CITY VARCHAR(45) NOT NULL,
STATE_PROVINCE VARCHAR(45) NOT NULL,
COUNTRY_ID VARCHAR(2) NOT NULL,
PRIMARY KEY (LOCATION_ID), FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRY
(COUNTRY_ID));

----------------------------------------


CREATE TABLE IF NOT EXISTS country(
COUNTRY_ID VARCHAR(2) NOT NULL,
COUNTRY_NAME VARCHAR(45) NOT NULL,
REGION_ID INT(10) NOT NULL,
PRIMARY KEY (COUNTRY_ID, REGION_ID),
FOREIGN KEY (REGION_ID)REFERENCES REGION
(REGION_ID));

CREATE TABLE IF NOT EXISTS job_grades(
GRADE_LEVEL VARCHAR(10) NOT NULL,
LOWEST_SAL INT NULL,
HIGHEST_SAL INT NULL,
PRIMARY KEY (GRADE_LEVEL));


CREATE TABLE IF NOT EXISTS employees(
EMPLOYEE_ID INT(6) NOT NULL,
FIRST_NAME VARCHAR(45) NOT NULL,
LAST_NAME VARCHAR(45) NOT NULL,
EMAIL VARCHAR(45) NOT NULL,
PHONE_NUMBER VARCHAR(25) NULL,
HIRE_DATE DATE NOT NULL,
JOB_ID VARCHAR(25) NOT NULL,
SALARY INT NULL,
MANAGER_ID INT(6) NULL,
DEPARTMENT_ID INT(10) NOT NULL,
GRADE_LEVEL VARCHAR(10) NOT NULL,
PRIMARY KEY (EMPLOYEE_ID),
FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS
(DEPARTMENT_ID),
FOREIGN KEY (GRADE_LEVEL) REFERENCES JOB_GRADES
(GRADE_LEVEL));

CREATE TABLE IF NOT EXISTS departments (
DEPARTMENT_ID INT(10) NOT NULL,
DEPARTMENT_NAME VARCHAR(45) NOT NULL,
MANAGER_ID INT(6) NOT NULL,
LOCATION_ID INT(10) NOT NULL,
PRIMARY KEY (DEPARTMENT_ID, LOCATION_ID),
FOREIGN KEY (LOCATION_ID)REFERENCES LOCATION
(LOCATION_ID));


CREATE TABLE IF NOT EXISTS job_history(
START_DATE DATE NOT NULL,
END_DATE DATE NULL,
JOB_ID VARCHAR(20) NOT NULL,
EMPLOYEE_ID INT(6) NOT NULL,
PRIMARY KEY (JOB_ID,EMPLOYEE_ID),
FOREIGN KEY (JOB_ID) REFERENCES JOB (JOB_ID),
FOREIGN KEY (EMPLOYEE_ID)REFERENCES
employees (EMPLOYEE_ID));


CREATE TABLE IF NOT EXISTS employees(
EMPLOYEE_ID INT(6) NOT NULL,
FIRST_NAME VARCHAR(45) NOT NULL,
LAST_NAME VARCHAR(45) NOT NULL,
EMAIL VARCHAR(45) NOT NULL,
PHONE_NUMBER VARCHAR(25) NULL,
HIRE_DATE DATE NOT NULL,
CURRENT_JOB_ID VARCHAR(25) NOT NULL,
SALARY INT NULL,
DEPARTMENT_ID INT(10) NOT NULL,
GRADE_LEVEL VARCHAR(10) NOT NULL,
REPORTS_TO INT(6) NULL,
PRIMARY KEY (EMPLOYEE_ID),
FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS
(DEPARTMENT_ID),
FOREIGN KEY (GRADE_LEVEL) REFERENCES JOB_GRADES
(GRADE_LEVEL),
FOREIGN KEY (REPORTS_TO) REFERENCES employees
(EMPLOYEE_ID));


SELECT FROM region()
REGION_ID(1)REGION_NAME(Europe)

INSERT INTO region VALUES (1, "Europe"),
(2, "Americas"),
(3, "Asia"),
(4, "Middle East and Africa");

INSERT INTO country VALUES ("CA", "Canada", 2),
("DE", "Germany", 1),
("UK", "United Kingdom", 1),
("US", "United States", 2);


INSERT INTO location VALUES (1400, 2014 Jabberwocky Rd, 26192, Southlake, Texas, US),
(1500, 2011 Interiors Blvd, 99236, South San Francisco, California, US),
(1700, 2004 VARCHARade Rd, 98199, Seattle, Washington, US),
(1800, 460 Bloor St. W., ON M5S 1XB, Toronto, Ontario, CA),
(2500, Magdalen Centre, The Oxford Science Park, OX9 9ZB, Oxford, Oxford, UK);


-- Departments has not been put into database yet
INSERT INTO departments VALUES
(10, 'Administration', 124, 1700),
(20, 'Marketing', 101, 1800),
(50, 'Shipping', 149, 1500),
(60, 'IT', 107, 1400),
(80, 'Sales', 149, 2500),
(90, 'Executive', 100, 1700),
(110, 'Accounting', 205, 1800),
(190, 'Contracting', 124, 1700);


-- job_grades
INSERT INTO job_grades VALUES
('A', 1000, 2999),
('B', 3000, 5999),
('C', 6000, 9999),
('D', 10000, 14999),
('E', 15000, 24999),
('F', 25000, 40000);

load data local infile 'desktop/kday.csv' into table REGION
fields terminated by ',' lines terminated by '\r\n';

INSERT INTO employees VALUES
(100, 'Steven', 'King', 'SKING', '515 .123.4567', '1987-06-17', 'AD_PRES', 24000, 90, 'F', NULL),
(101, 'Neena', 'Kochhar', 'NKOCHHAR', '515.123.4568', '1989-09-21', 'AD_VP', 17000, 10, 'E', 100),
(102, 'Lex', 'Da Haan', 'LDEHAAN', '515.123.4569', '1993-01-13', 'AD_VP', 17000, 10, 'D', 100),
(103, 'Alexander', 'Hunold', 'AHUNOLD', '590.423.4567', '03/01/1990', 'IT_PROG', 9000, 60, 'B', 104),
(104, 'Bruce', 'Ernst', 'BERFNST', '590.423.4568', '1991-05-15', 'IT_PROG', 6000, 60, 'C', 100),
(107, 'Diana', 'Lorentz', 'DLORENTZ', '590.423.5567', '1999-02-07', 'IT_PROG', 4200, 60 ,'B', 104),
(124,"Kevin","Mourgos","KMOURGO","650.123.5234","1999-11-19","ST_MAN",5800,50,"D",100), 
(141,"Trenna","Rajs","TRAJS","650.121.8009","1995-10-17","ST_CLERK",3500,190,"B",101),
(142,"Curtis","Davies","CDAVIES","650.121.2994","1997-01-29","ST_CLERK",3100,190,"A",141),
(143,"Randall","Matos","RMATOS","650.121.2874","1998-03-15","ST_CLERK",2600,10,"A",101),
(144,"Peter","Vargas","PVARGAS","650.121.2004","1998-07-09","ST_CLERK",2500,10,"A",101),
(149,"Eleni","ZLotkey","EZLOTKEV","011.44.1344.429018","2000-01-29","SA_MAN",10500,80,"C",100), 
(174,"Ellen","Abel","EABEL","011.44.1644.429267","1996-05-11","SA_REP",11000,80,"B",149),
(176,"Johnathon","Taylor","JTAYLOR","011.44.1644.429265","1998-03-24","SA_REP",8600,80,"B",149),
(178,"Kimberley","Grant","KGRANT","011.44.1644.429263","1999-05-24","SA_REP",7000,80,"A",149),
(200,"Jennifer","Whalen","JWHALEN","515.123.4444","1987-09-17","AD_ASST",4400,10,"A",101),
(201,"Michael","Harstein","MHARSTEIN","515.123.5555","1996-02-17","MK_MAN",13000,20,"D",100), 
(202,"Pat","Fay","PFAY","603.123.6666","1997-08-17","MK_REP",6000,20,"B",201),
(205,"Shelley","Higgins","SHIGGINS","515.123.8080","1994-06-07","AC_MGR",12000,110,"D",100), 
(206,"William","Gietz","WGIETZ","515.123.4444","1994-06-07","AC_ACCOUNT",8300,110,"C",206);

(124 Kevin Mourgos KMOURGO 650.123.5234 19/11/1999 ST_MAN 5800 50 D 100)
(141 Trenna Rajs TRAJS 650.121.8009 17/10/1995 ST_CLERK 3500 190 B 101)
(142 Curtis Davies CDAVIES 650.121.2994 29/01/1997 ST_CLERK 3100 190 A 141)
(143 Randall Matos RMATOS 650.121.2874 15/03/1998 ST_CLERK 2600 10 A 101)
(144 Peter Vargas PVARGAS 650.121.2004 09/07/1998 ST_CLERK 2500 10 A 101)
(149 Eleni ZLotkey EZLOTKEV 011.44.1344.4 29/01/2000 SA_MAN 10500 80 C 100)
(174 Ellen Abel EABEL 011.44.1644.4 11/05/1996 SA_REP 11000 80 B 149)
(176 Johnathon Taylor JTAYLOR 011.44.1644.4 24/03/1998 SA_REP 8600 80 B 149)
(178 Kimberley Grant KGRANT 011.44.1644.4 24/05/1999 SA_REP 7000 80 A 149)
(200 Jennifer Whalen JWHALEN 515.123.4444 17/09/1987 AD_ASST 4400 10 A 101)
(201 Michael Harstein MHARSTEIN 515.123.5555 17/02/1996 MK_MAN 13000 20 D 100)
(202 Pat Fay PFAY 603.123.6666 17/08/1997 MK_REP 6000 20 B 201)
(205 Shelley Higgins SHIGGINS 515.123.8080 07/06/1994 AC_MGR 12000 110 D 100)
(206 William Gietz WGIETZ 515.123.4444 07/06/1994 AC_ACCOUNT 8300 110 C 206)

INSERT INTO employees VALUES(100,'Steven','King','SKING', "515.123.4567", '1987-06-17','AD_PRES', 24000, 90,'F',NULL);,
							(101,"Neena","Kochhar","NKOCHHAR","515.123.4568","1989-09-21","AD_VP",17000,10,"E",100),
							(102,"Lex","Da Haan","LDEHAAN","515.123.4569","1993-01-13","AD_VP",17000,10,"D",100),
							(103,"Alexander","Hunold","AHUNOLD","590.423.4567","1990-01-03","IT_PROG",9000,60,"B",104),
							(104,"Bruce","Ernst","BERFNST","590.423.4568","1991-05-15","IT_PROG",6000,60,"C",100), 
							(107,"Diana","Lorentz","DLORENTZ","590.423.5567","1999-02-07","IT_PROG",4200,60,"B",104),
							(124,"Kevin","Mourgos","KMOURGO","650.123.5234","1999-11-19","ST_MAN",5800,50,"D",100), 
							(141,"Trenna","Rajs","TRAJS","650.121.8009","1995-10-17","ST_CLERK",3500,190,"B",101),
							(142,"Curtis","Davies","CDAVIES","650.121.2994","1997-01-29","ST_CLERK",3100,190,"A",141),
							(143,"Randall","Matos","RMATOS","650.121.2874","1998-03-15","ST_CLERK",2600,10,"A",101),
							(144,"Peter","Vargas","PVARGAS","650.121.2004","1998-07-09","ST_CLERK",2500,10,"A",101),
							(149,"Eleni","ZLotkey","EZLOTKEV","011.44.1344.429018","2000-01-29","SA_MAN",10500,80,"C",100), 
							(174,"Ellen","Abel","EABEL","011.44.1644.429267","1996-05-11","SA_REP",11000,80,"B",149),
							(176,"Johnathon","Taylor","JTAYLOR","011.44.1644.429265","1998-03-24","SA_REP",8600,80,"B",149),
							(178,"Kimberley","Grant","KGRANT","011.44.1644.429263","1999-05-24","SA_REP",7000,80,"A",149),
							(200,"Jennifer","Whalen","JWHALEN","515.123.4444","1987-09-17","AD_ASST",4400,10,"A",101),
							(201,"Michael","Harstein","MHARSTEIN","515.123.5555","1996-02-17","MK_MAN",13000,20,"D",100), 
							(202,"Pat","Fay","PFAY","603.123.6666","1997-08-17","MK_REP",6000,20,"B",201),
							(205,"Shelley","Higgins","SHIGGINS","515.123.8080","1994-06-07","AC_MGR",12000,110,"D",100), 
							(206,"William","Gietz","WGIETZ","515.123.4444","1994-06-07","AC_ACCOUNT",8300,110,"C",206); 































